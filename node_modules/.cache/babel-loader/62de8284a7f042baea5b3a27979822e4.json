{"ast":null,"code":"var _jsxFileName = \"/Users/junghoonseo/Desktop/CSCE 310/GroupProject/Git/CSCE310CINEFILE/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport MovieList from './components/MovieList';\nimport PlayTrailer from './components/PlayTrailer';\nimport \"react-input-range/lib/css/index.css\";\nimport ReactModal from 'react-modal';\nimport { Navbar, Nav, NavDropdown, Form, FormControl, Button, Container } from 'react-bootstrap';\nimport './App.css';\nimport InputRange from 'react-input-range';\nimport Client from './Client'; //import MovieComponent from './components/MovieComponent';\n\nimport axios from \"axios\";\nimport useFetch from \"react-fetch-hook\";\nlibrary.add(fab); //const [data3, setData3] = useState([]);\n\nconst apiKey = \"165b688bd880d774d14d9bcbaadc7666\";\nvar details = [];\nvar get_genre = [];\n\nfunction App() {\n  let [movieList, setMovieList] = useState(null);\n  let [nowPlaying, setNowPlaying] = useState(false);\n  let [nowRated, setNowRated] = useState(false);\n  let [nowKeyword, setNowKeyword] = useState(false);\n  let [page, setPage] = useState(1);\n  let [keyword, setKeyword] = useState('');\n  let [genre, setGenre] = useState(null);\n  let [modalOpen, setOpen] = useState(false);\n  let [movieId, setMovieId] = useState(null);\n  let [videoId, setVideo] = useState(null);\n  let [rating, setRating] = useState(1);\n  let [currentList, setCurrent] = useState(null);\n  let [reviews, setReview] = useState(null);\n  let [getCredits, setCredits] = useState(null);\n  let [release_dates, setRelease] = useState(null);\n  let [startSearch, setStartSearch] = useState(0);\n  let [actors, setactors] = useState([]);\n  let [SearchResult, setSearchResult] = useState([]);\n  var tmp4 = [];\n  let searchContent = '';\n  let [tmp2, settmp2] = useState([]);\n  let [tmp3, settmp3] = useState([]);\n\n  const getGenre = async () => {\n    let url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`; //let url = `http://localhost:8080/genres`;\n\n    let local_url = `http://localhost:8080/genres`;\n    let data = await fetch(url);\n    let result = await data.json(); // let url = `http://localhost:8080/genres`;\n    // console.log(\"Genres\", result.genres);\n    //setGenre(result.genres);\n    //setGenre(url);\n\n    fetch(local_url).then(resp => resp.json()).then(data => genre = data);\n    getNowPlaying();\n  };\n\n  const getNowPlaying = async () => {\n    let url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=1`;\n    let data = await fetch(url);\n    let result = await data.json();\n    console.log(\"Movie\", result);\n    setMovieList([...result.results]);\n    setCurrent([...result.results]);\n    setNowPlaying(true);\n    setNowKeyword(false);\n    setNowRated(false);\n  };\n\n  const getKeyword = async keyword => {\n    console.log(keyword);\n    var tmp3 = [];\n    setStartSearch(1);\n    fetch(`http://localhost:8080/movies/searchByTitle/${keyword}`).then(resp => resp.json()).then(data => data.map(item => {\n      tmp3 = tmp3.concat(item);\n      console.log(tmp3);\n      setSearchResult(tmp3);\n    }));\n    fetch(`http://localhost:8080/movies/searchByTitle/${keyword}`).then(resp => resp.json()).then(data => setMovieList(data) // data.map((item)=>{         \n    // tmp3 = tmp3.concat(item);\n    // console.log(tmp3);    \n    // setSearchResult(tmp3)})            \n    ); // let url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${keyword}&page=1&include_adult=false`;\n    // let data = await fetch (url);\n    // let result = await data.json();\n    // console.log([...result.results]);\n\n    document.getElementById(\"keyword\").value = null;\n    setNowPlaying(false);\n    setNowKeyword(true);\n    setNowRated(false);\n    setKeyword(keyword); //setMovieList([...result.results]);\n    // setMovieList(SearchResult);\n  }; // function sortMovieRating(x) {\n  //   if (!(movieList === null)) {\n  //     movieList.sort(function(a, b) {\n  //       let i = a.vote_average;\n  //       let j = b.vote_average;\n  //       console.log(i,j);\n  //       return (i-j)*x;\n  //     })\n  //     setMovieList([...movieList]);\n  //     //console.log(\"Sorted\", movieList)\n  //   }\n  // }\n  // function sortMoviePopular(x) {\n  //   if (!(movieList === null)) {\n  //     movieList.sort(function(a, b) {\n  //       let i = a.popularity;\n  //       let j = b.popularity;\n  //       console.log(i,j);\n  //       return (i-j)*x;\n  //     })\n  //     setMovieList([...movieList]);\n  //     //console.log(\"Sorted\", movieList)\n  //   }\n  // }\n\n\n  function filterMovieRating(x) {\n    console.log(rating);\n    console.log(currentList);\n\n    if (currentList.length > 0) {\n      movieList = currentList;\n      let temp = movieList.filter(item => {\n        let y = item.vote_average >= x;\n        console.log(y);\n        return y;\n      });\n      setMovieList(temp);\n    }\n  }\n\n  const getTopRated = async () => {\n    // let url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}&language=en-US&page=1`;\n    // let data = await fetch (url);\n    // let result = await data.json();\n    let local_url = `http://localhost:8080/movies/topRated/maxResults/12`;\n    fetch(local_url).then(resp => resp.json()).then(data => setMovieList(data)); //setMovieList([...result.results]);\n    // console.log(\"Movie\", result.results);\n\n    setNowPlaying(false);\n    setNowKeyword(false);\n    setNowRated(true); //setCurrent([...result.results]);\n  };\n\n  let getSeeMore = async page => {\n    //console.log(page);\n    if (page === 0) return;\n    let url;\n\n    if (nowPlaying) {\n      url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=${page}`;\n    } else if (nowKeyword) {\n      url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${keyword}&page=${page}&include_adult=false`;\n    } else if (nowRated) {\n      url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}&language=en-US&page=${page}`;\n    }\n\n    try {\n      let data = await fetch(url);\n      let result = await data.json();\n      setMovieList([...result.results]);\n      setPage(page);\n      console.log(`Now Playing ${nowPlaying}, Now Rated ${nowRated}, Now Keyword ${nowKeyword}`);\n      console.log(url);\n      setCurrent([...result.results]);\n    } catch (error) {\n      alert(\"Not found!\");\n    }\n  };\n\n  let sortMovieGenre = currentGenre => {\n    try {\n      let temp = movieList.filter(movie => {\n        let x = movie.genre_ids.includes(currentGenre);\n        console.log(x);\n        return x;\n      });\n      if (temp.length === 0) return;\n      setMovieList(temp);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  let closeModal = () => {\n    setOpen(false);\n  };\n\n  let openModal = id => {\n    setOpen(true);\n    setMovieId(id);\n  }; // const {data2} = useFetch(`http//localhost:8080/genres`);\n  // console.log(data2);\n  // var data2;\n  // const fetchData = () => {\n  //     return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data)).then(data2=>setData(data2));\n  // }\n  // Console.log(data2);\n\n\n  let getMovieInfo = async id => {\n    // const fetchData = () => {\n    //   return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data));\n    // }\n    // fetch(`http://localhost:8080/movies/${id}/actors`)\n    // .then(resp => resp.json())\n    // .then(data => data.map((item)=> {            \n    //       //return (<span>{item}</span>)\n    //       //console.log(item.id)\n    //       settmp2(item);\n    // }));\n    var tmp3 = [];\n    fetch(`http://localhost:8080/movies/${id}/actors`).then(resp => resp.json()).then(data => data.map(item => {\n      //console.log(item.id);\n      //settmp2(item);    \n      tmp2 = item; //console.log(tmp2);         \n\n      tmp3 = tmp3.concat(tmp2);\n      setactors(tmp3);\n    }));\n    let url = `https://api.themoviedb.org/3/movie/${id}}/reviews?api_key=${apiKey}&language=en-US`;\n    let data = await fetch(url);\n    let result = await data.json();\n    setReview(result.results);\n    url = `https://api.themoviedb.org/3/movie/${id}}?api_key=${apiKey}&language=en-US`;\n    data = await fetch(url);\n    result = await data.json(); //setVideo(result.title);\n    //console.log(result.title);\n    //580489\n\n    console.log(id);\n    let result_ = new Promise((resolve, reject) => {\n      let request = new XMLHttpRequest();\n      request.open(\"GET\", `http//localhost:8080/genres`);\n\n      request.onreadystatechange = () => {\n        let raw = request.responseText;\n        let objectified = JSON.parse(raw);\n        resolve(objectified);\n        console.log(resolve(objectified));\n      };\n\n      request.send();\n    }); // fetch(`http://localhost:8080/movies/${id}/actors`)\n    //   .then(resp => resp.json())\n    //   .then(data => console.log(data));\n    //console.log(temp_actors);\n    //  const fetchData = () => {\n    //     return fetch(`http//localhost:8080/genres`).then((res) => res.json())  \n    //     .then((json) => console.log(json));\n    //  }\n    // const fetchData = () => {\n    //   return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data));\n    // }\n    //console.log(fetchData);\n\n    details = details.concat(result.title);\n    details = details.concat(result.runtime);\n    details = details.concat(result.original_language);\n    details = details.concat(result.overview);\n    details = details.concat(result.release_date);\n    details = details.concat(result.poster_path);\n    details = details.concat(result.vote_average);\n    get_genre = get_genre.concat(result.genres);\n    console.log(get_genre);\n    url = `https://api.themoviedb.org/3/movie/${id}}/credits?api_key=${apiKey}&language=en-US`;\n    data = await fetch(url);\n    result = await data.json();\n    setCredits(result.cast);\n  };\n\n  useEffect(() => {\n    getGenre();\n  }, []);\n\n  if (movieList === null) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 7\n      }\n    }, \"Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    className: \"navbar-color\",\n    variant: \"dark\",\n    expand: \"lg\",\n    sticky: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }\n  }, \"CineFile\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"basic-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    id: \"basic-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"#toprated\",\n    onClick: () => getTopRated(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }\n  }, \"Top Rated\"), /*#__PURE__*/React.createElement(NavDropdown, {\n    title: \"Genres\",\n    id: \"basic-nav-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }\n  }, genre.map(item => {\n    return /*#__PURE__*/React.createElement(NavDropdown.Item, {\n      key: item.id,\n      onClick: () => sortMovieGenre(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(Form, {\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    id: \"keyword\",\n    onChange: field => {\n      searchContent = field.target.value;\n    },\n    type: \"text\",\n    placeholder: \"Search\",\n    className: \"mr-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: () => getKeyword(searchContent),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }\n  }, \"Search\")))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputRange, {\n    draggableTrack: true,\n    step: 1,\n    maxValue: 10,\n    minValue: 1,\n    value: rating,\n    onChange: value => setRating(value),\n    onChangeComplete: () => filterMovieRating(rating),\n    className: \"input-range\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MovieList, {\n    movieList: movieList,\n    genreList: genre,\n    Search: startSearch,\n    Modal: openModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReactModal, {\n    isOpen: modalOpen,\n    ariaHideApp: false,\n    onAfterOpen: () => getMovieInfo(movieId),\n    closeTimeoutMS: 1000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PlayTrailer, {\n    close: closeModal,\n    details: details,\n    review: reviews,\n    credits: getCredits,\n    genre: get_genre,\n    actor: actors,\n    SearchResults: SearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Container, {\n    className: \"seemore\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    className: \"m-3 mb-5\",\n    onClick: () => getSeeMore(page - 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    className: \"m-3 mb-5\",\n    onClick: () => getSeeMore(page + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }\n  }, \"Next\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/junghoonseo/Desktop/CSCE 310/GroupProject/Git/CSCE310CINEFILE/src/App.js"],"names":["React","useEffect","useState","library","fab","MovieList","PlayTrailer","ReactModal","Navbar","Nav","NavDropdown","Form","FormControl","Button","Container","InputRange","Client","axios","useFetch","add","apiKey","details","get_genre","App","movieList","setMovieList","nowPlaying","setNowPlaying","nowRated","setNowRated","nowKeyword","setNowKeyword","page","setPage","keyword","setKeyword","genre","setGenre","modalOpen","setOpen","movieId","setMovieId","videoId","setVideo","rating","setRating","currentList","setCurrent","reviews","setReview","getCredits","setCredits","release_dates","setRelease","startSearch","setStartSearch","actors","setactors","SearchResult","setSearchResult","tmp4","searchContent","tmp2","settmp2","tmp3","settmp3","getGenre","url","local_url","data","fetch","result","json","then","resp","getNowPlaying","console","log","results","getKeyword","map","item","concat","document","getElementById","value","filterMovieRating","x","length","temp","filter","y","vote_average","getTopRated","getSeeMore","error","alert","sortMovieGenre","currentGenre","movie","genre_ids","includes","closeModal","openModal","id","getMovieInfo","result_","Promise","resolve","reject","request","XMLHttpRequest","open","onreadystatechange","raw","responseText","objectified","JSON","parse","send","title","runtime","original_language","overview","release_date","poster_path","genres","cast","name","field","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport MovieList from './components/MovieList';\nimport PlayTrailer from './components/PlayTrailer';\nimport \"react-input-range/lib/css/index.css\";\nimport ReactModal from 'react-modal';\nimport { Navbar, Nav, NavDropdown, Form, FormControl, Button, Container } from 'react-bootstrap';\nimport './App.css';\nimport InputRange from 'react-input-range';\nimport Client from './Client';\n//import MovieComponent from './components/MovieComponent';\nimport axios from \"axios\"\nimport useFetch from \"react-fetch-hook\"\n      \nlibrary.add(fab);\n//const [data3, setData3] = useState([]);\nconst apiKey = \"165b688bd880d774d14d9bcbaadc7666\";\nvar details = [];\nvar get_genre = [];\nfunction App() {\n  \n  let [movieList, setMovieList] = useState(null);\n  let [nowPlaying, setNowPlaying] = useState(false);\n  let [nowRated, setNowRated] = useState(false);\n  let [nowKeyword, setNowKeyword] = useState(false);\n  let [page, setPage] = useState(1);\n  let [keyword, setKeyword] = useState('');\n  let [genre, setGenre] = useState(null);\n  let [modalOpen, setOpen] = useState(false);\n  let [movieId, setMovieId] = useState(null);\n  let [videoId, setVideo] = useState(null);\n  let [rating, setRating] = useState(1);\n  let [currentList, setCurrent] = useState(null);\n  let [reviews, setReview] = useState(null);\n  let [getCredits, setCredits] = useState(null);\n  let [release_dates, setRelease] = useState(null);\n  let [startSearch, setStartSearch] = useState(0);\n\n  let [actors, setactors] = useState([]);\n  let [SearchResult, setSearchResult] = useState([]);\n\n  var tmp4 = [];\n  let searchContent = '';\n  let [tmp2, settmp2] = useState([]);\n  let [tmp3, settmp3] = useState([]);\n  const getGenre = async() => {\n    let url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`;\n    //let url = `http://localhost:8080/genres`;\n    let local_url = `http://localhost:8080/genres`;\n    let data = await fetch (url);\n    let result = await data.json();\n    // let url = `http://localhost:8080/genres`;\n    // console.log(\"Genres\", result.genres);\n    //setGenre(result.genres);\n    //setGenre(url);\n    fetch(local_url)\n    .then(resp => resp.json())\n    .then(data => genre = data);\n\n    getNowPlaying();\n  }\n  \n  const getNowPlaying = async() => {\n    let url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=1`;\n    let data = await fetch (url);\n    let result = await data.json();\n    console.log(\"Movie\", result);\n    setMovieList([...result.results]);\n    setCurrent([...result.results]);\n    setNowPlaying(true);\n    setNowKeyword(false);\n    setNowRated(false);\n  }\n  const getKeyword = async(keyword) => {\n    console.log(keyword);\n    var tmp3 = [];\n    setStartSearch(1);\n\n    fetch(`http://localhost:8080/movies/searchByTitle/${keyword}`)\n    .then(resp => resp.json())\n    .then(data =>              \n      data.map((item)=>{         \n      tmp3 = tmp3.concat(item);\n      console.log(tmp3);    \n      setSearchResult(tmp3)})            \n  );\n\n    fetch(`http://localhost:8080/movies/searchByTitle/${keyword}`)\n      .then(resp => resp.json())\n      .then(data =>         \n        setMovieList(data)\n        // data.map((item)=>{         \n        // tmp3 = tmp3.concat(item);\n        // console.log(tmp3);    \n        // setSearchResult(tmp3)})            \n    );\n        \n    // let url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${keyword}&page=1&include_adult=false`;\n    // let data = await fetch (url);\n    // let result = await data.json();\n    // console.log([...result.results]);\n    document.getElementById(\"keyword\").value = null;\n    setNowPlaying(false);\n    setNowKeyword(true);\n    setNowRated(false);\n    setKeyword(keyword);\n    //setMovieList([...result.results]);\n    // setMovieList(SearchResult);\n  }\n\n  // function sortMovieRating(x) {\n  //   if (!(movieList === null)) {\n  //     movieList.sort(function(a, b) {\n  //       let i = a.vote_average;\n  //       let j = b.vote_average;\n  //       console.log(i,j);\n  //       return (i-j)*x;\n  //     })\n  //     setMovieList([...movieList]);\n  //     //console.log(\"Sorted\", movieList)\n  //   }\n  // }\n\n  // function sortMoviePopular(x) {\n  //   if (!(movieList === null)) {\n  //     movieList.sort(function(a, b) {\n  //       let i = a.popularity;\n  //       let j = b.popularity;\n  //       console.log(i,j);\n  //       return (i-j)*x;\n  //     })\n  //     setMovieList([...movieList]);\n  //     //console.log(\"Sorted\", movieList)\n  //   }\n  // }\n\n  function filterMovieRating(x) {\n    console.log(rating);\n    console.log(currentList); \n    if (currentList.length>0) {\n      movieList = currentList;\n      let temp = movieList.filter((item) => {\n        let y = (item.vote_average>=x);\n        console.log(y);\n        return (y);\n      })\n      setMovieList(temp);\n    }\n  }\n\n  const getTopRated = async() => {\n    // let url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}&language=en-US&page=1`;\n    // let data = await fetch (url);\n    // let result = await data.json();\n    let local_url = `http://localhost:8080/movies/topRated/maxResults/12`;\n    fetch(local_url)\n    .then(resp => resp.json())\n    .then(data => setMovieList(data)             \n    );\n    //setMovieList([...result.results]);\n    // console.log(\"Movie\", result.results);\n    setNowPlaying(false);\n    setNowKeyword(false);\n    setNowRated(true);\n    //setCurrent([...result.results]);\n  }\n\n  let getSeeMore = async(page) => {\n    //console.log(page);\n    if (page === 0) return;\n    let url;\n    if (nowPlaying) {\n      url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=${page}`;\n    } \n    else if (nowKeyword) {\n      url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${keyword}&page=${page}&include_adult=false`;\n    }\n    else if (nowRated) {\n      url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}&language=en-US&page=${page}`;\n    }\n    try {\n      let data = await fetch (url);\n      let result = await data.json();\n      setMovieList([...result.results]);\n      setPage(page);\n      console.log(`Now Playing ${nowPlaying}, Now Rated ${nowRated}, Now Keyword ${nowKeyword}`)\n      console.log(url);\n      setCurrent([...result.results]);\n    } catch (error) {\n      alert(\"Not found!\")\n    }\n  }\n\n  let sortMovieGenre = (currentGenre) => {\n    try {\n      let temp = movieList.filter((movie) => {\n        let x = movie.genre_ids.includes(currentGenre);\n        console.log(x);\n      return x;\n      })\n      if (temp.length === 0) return;\n      setMovieList(temp);\n    } catch (error) {\n      alert(error);\n    }\n    \n  }\n\n  let closeModal = () => {\n    setOpen(false);\n  }\n\n  let openModal = (id) => {\n    setOpen(true);\n    setMovieId(id);\n  }\n  \n  // const {data2} = useFetch(`http//localhost:8080/genres`);\n  // console.log(data2);\n  // var data2;\n  // const fetchData = () => {\n  //     return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data)).then(data2=>setData(data2));\n  // }\n  // Console.log(data2);\n\n\n  let getMovieInfo = async(id) => {\n    // const fetchData = () => {\n    //   return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data));\n    // }\n      // fetch(`http://localhost:8080/movies/${id}/actors`)\n      // .then(resp => resp.json())\n      // .then(data => data.map((item)=> {            \n      //       //return (<span>{item}</span>)\n      //       //console.log(item.id)\n      //       settmp2(item);\n      // }));\n      \n\n    var tmp3 = [];\n    fetch(`http://localhost:8080/movies/${id}/actors`)\n      .then(resp => resp.json())\n      .then(data => data.map((item)=> {            \n            //console.log(item.id);\n            //settmp2(item);    \n            tmp2 = item;\n            //console.log(tmp2);         \n            tmp3 = tmp3.concat(tmp2);\n            setactors(tmp3); \n            \n    }));\n\n    let url = `https://api.themoviedb.org/3/movie/${id}}/reviews?api_key=${apiKey}&language=en-US`;\n    let data = await fetch (url);\n    let result = await data.json();\n    setReview(result.results);\n    \n    url = `https://api.themoviedb.org/3/movie/${id}}?api_key=${apiKey}&language=en-US`;\n    data = await fetch (url);\n    result = await data.json();\n    //setVideo(result.title);\n    //console.log(result.title);\n    //580489\n    console.log(id);\n    let result_ = new Promise((resolve, reject) => {\n      let request = new XMLHttpRequest();\n        request.open(\"GET\", `http//localhost:8080/genres`);\n        request.onreadystatechange = () => {\n          let raw = request.responseText;          \n          let objectified = JSON.parse(raw);\n          resolve(objectified);\n          console.log(resolve(objectified));\n      }\n      \n      request.send();\n    })\n\n\n    // fetch(`http://localhost:8080/movies/${id}/actors`)\n    //   .then(resp => resp.json())\n    //   .then(data => console.log(data));\n    \n    //console.log(temp_actors);\n  //  const fetchData = () => {\n  //     return fetch(`http//localhost:8080/genres`).then((res) => res.json())  \n  //     .then((json) => console.log(json));\n  //  }\n\n    // const fetchData = () => {\n    //   return axios.get(`http//localhost:8080/genres`).then((response) => console.log(response.data));\n    // }\n    \n    //console.log(fetchData);\n\n    details = details.concat(result.title);\n    details = details.concat(result.runtime);\n    details = details.concat(result.original_language);\n    details = details.concat(result.overview);\n    details = details.concat(result.release_date);\n    details = details.concat(result.poster_path);\n    details = details.concat(result.vote_average);\n    get_genre = get_genre.concat(result.genres);\n    console.log(get_genre);\n    url = `https://api.themoviedb.org/3/movie/${id}}/credits?api_key=${apiKey}&language=en-US`;\n    data = await fetch (url);\n    result = await data.json();\n    setCredits(result.cast);\n    \n  }\n\n  useEffect(() => {\n    getGenre();\n  }, [])\n  if (movieList === null) {\n    return (\n      <div>\n        Loading...\n      </div>\n    )\n  }\n  return (\n    \n    <div>\n\n      {/* TOP NAVIGATION BAR */}\n      <Navbar className=\"navbar-color\" variant=\"dark\" expand=\"lg\" sticky=\"top\">\n        <Navbar.Brand href=\"#home\">CineFile</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">     \n\n            <Nav.Link href=\"#toprated\" onClick={() => getTopRated()}>Top Rated</Nav.Link>    \n\n            <NavDropdown title=\"Genres\" id=\"basic-nav-dropdown\">\n              {genre.map((item) => {\n                return(\n                <NavDropdown.Item key={item.id} onClick={() => sortMovieGenre(item.id)}>{item.name}</NavDropdown.Item>\n                );\n              })}\n            </NavDropdown>\n          \n          </Nav>\n\n          <Form inline>\n            <FormControl id=\"keyword\" onChange={field => {searchContent = field.target.value;}} type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n            <Button variant=\"dark\" onClick={() => getKeyword(searchContent)}>Search</Button>\n          </Form>\n        </Navbar.Collapse>\n      </Navbar> \n\n      <form className=\"form\">\n        <InputRange\n          draggableTrack\n          step={1}\n          maxValue={10}\n          minValue={1}\n          value={rating}\n          onChange={value => setRating(value)}\n          onChangeComplete={() => filterMovieRating(rating)} className=\"input-range\"/>\n      </form>\n\n      <Container>\n        <MovieList movieList = {movieList} genreList = {genre} Search = {startSearch} Modal={openModal}/>        \n        <ReactModal isOpen={modalOpen} ariaHideApp={false} onAfterOpen={() => getMovieInfo(movieId)} closeTimeoutMS={1000}>\n          <PlayTrailer close={closeModal} details={details} review={reviews} credits={getCredits} genre = {get_genre} actor = {actors} SearchResults = {SearchResult}></PlayTrailer>\n        </ReactModal>\n      </Container>\n      \n      <Container className=\"seemore\">\n        <Button variant=\"dark\" className=\"m-3 mb-5\" onClick={() => getSeeMore(page-1)}>Previous</Button>\n        <Button variant=\"dark\" className=\"m-3 mb-5\" onClick={() => getSeeMore(page+1)}>Next</Button>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}